import { forwardRef } from "react";

interface MascotSVGProps {
  className?: string;
  showTongue?: boolean;
}

// SVG broken down into animatable parts like Duolingo
export const MascotSVG = forwardRef<SVGSVGElement, MascotSVGProps>(
  ({ className, showTongue = false }, ref) => {
    return (
      <svg
        ref={ref}
        id="Mascot"
        xmlns="http://www.w3.org/2000/svg"
        width="188.57"
        height="252.496"
        viewBox="0 0 188.57 252.496"
        className={className}
      >
        <defs>
          <style>{`
            .body-main { fill: #fdedc0; }
            .body-shadow { fill: #dfc68a; }
            .dark-spots { fill: #25241d; }
            .eye-white { fill: #fff; }
            .tongue { fill: #f46a61; }
            .eye-cream { fill: #fdedc0; }
          `}</style>
        </defs>

        <g id="mascot">
          {/* Tail - separate for wiggle animation */}
          <g id="tail">
            <path
              id="tailMain"
              className="dark-spots"
              d="M170.005,140.711c3.042,6.847,6.258,19.22-5.505,26.515,3.013,6.681,5.109,21.484,5.109,21.484,0,0,32.629-22.676,7.331-52.339-.915-1.072-2.318-1.604-3.712-1.398-.036.005-.071.011-.108.016-2.684.394-4.216,3.244-3.115,5.723Z"
            />
            <ellipse
              id="tailSpot"
              className="dark-spots"
              cx="159.07"
              cy="195.469"
              rx="10.213"
              ry="6.878"
              transform="translate(-43.977 344.745) rotate(-87.184)"
            />
          </g>

          {/* Body group - for bounce/squash animations */}
          <g id="body">
            {/* Main body */}
            <path
              id="bodyMain"
              className="body-main"
              d="M154.151,220.674c.131.131,15.72-12.707,18.864-35.894,0,0-.262-36.026-24.759-25.021,0,0,4.585-30.458-8.777-49.519-.004-.008-.063-.017-.146-.026.579-.308.994-.503.988-.492,23.871-13.519,20.948-44.94,21.435-45.671C163.949-4.151,94.955.051,94.955.051l-1.096-.051-1.096.051S23.769-4.151,25.962,64.051c.487.73-2.43,32.109,21.389,45.643-2.245,4.823-12.564,28.692-8.35,51.637.125-.125-31.733-10.253-23.353,31.13.764,3.773,2.218,7.377,4.277,10.63,3.187,5.035,8.371,12.916,12.067,16.995l.54.786s-14.459,1.044-17.097,9.669c-.243.794-.542,3.289-.54,4.315.007,3.373,1.487,10.476,14.051,10.388,1.121-.008,14.001-.252,14.001-.252,0,0,3.327,7.23,15.291,7.191,1.314-.004,2.634.038,3.945.128,5.832.399,22.376.207,20.998-15.032-.098,0,13.199,0,13.199,0h10.185s-1.572,15.023,17.489,15.126c.098.201,18.373.791,24.17-7.757.393.295,11.037.655,11.037.655,0,0,15.065.655,15.065-9.236.065.065-1.376-15.131-20.175-15.393Z"
            />

            {/* Body shadow lines */}
            <g id="bodyLines">
              <path className="body-shadow" d="M40.626,166.853l8.92,60.83s-7.451,4.341-7.417,14.301c.003.817.12,1.632.292,2.43.065.301.113.585.113.585l.413-.008s-.105-8.742,10.113-16.733l-9.684-61.822c-.106-.677-.689-1.176-1.374-1.176h0c-.849,0-1.5.753-1.376,1.593Z" />
              <path className="body-shadow" d="M78.609,180.647c-.586,0-1.043.506-.985,1.088l5.557,55.543h1.015l-4.06-55.714c-.038-.517-.468-.918-.987-.918h-.54Z" />
              <path className="body-shadow" d="M150.4,166.508l-8.92,60.83s7.908,4.608,7.393,15.22c-.027.549-.125,1.096-.261,1.629l-.09.535-.298-.074s-.04-8.743-10.258-16.734l9.684-61.822c.106-.677.689-1.176,1.374-1.176h0c.849,0,1.5.753,1.376,1.593Z" />
              <path className="body-shadow" d="M111.123,180.647c.586,0,1.043.506.985,1.088l-5.557,55.543h-1.015s4.06-55.714,4.06-55.714c.038-.517.468-.918.987-.918h.54Z" />
            </g>

            {/* Body spots */}
            <g id="bodySpots">
              <path className="dark-spots" d="M70.588,166.644s.142-9.932-5.191-15.954c-2.141-2.418-3.896-5.169-4.87-8.248-1.205-3.806,1.196-7.682,2.748-9.237,0,0,4.443-6.182,17.497,6.62,1.976,1.938,4.154,3.651,6.467,5.172,3.199,2.104,7.709,6.754,6.782,16.051-.302.24-.497,11.729-7.808,14.757-1.403.581-2.947.723-4.455.545-3.11-.368-9.775-1.957-11.168-9.705Z" />
              <ellipse className="dark-spots" cx="117.43" cy="164.915" rx="7.515" ry="9.538" transform="translate(-51.166 52.833) rotate(-20.931)" />
              <ellipse className="dark-spots" cx="112.113" cy="126.036" rx="16.015" ry="5.895" transform="translate(-26.521 29.937) rotate(-13.617)" />
            </g>
          </g>

          {/* Head group - for tilt animations */}
          <g id="head">
            {/* Ears */}
            <g id="ears">
              <path
                id="earRight"
                className="dark-spots"
                d="M144.399,65.863s-12.388,23.746-28.313,15.194c-.21,0-18.124-9.122-15.924-31.016,0,.342,2.095-20.297,18.334-24.516-.101.11,11.807-3.359,13.289-12.198.208-1.239.522-2.459,1.062-3.573,1.435-2.963,4.881-7.019,12.731-3.67.079.086,14.3,4.96,28.758,21.608.21.114,19.8,19.613,12.676,34.208-.088.289-2.489,6.26-8.083,13.393-2.03,2.589-3.634,5.535-4.694,8.737-1.824,5.51-5.826,13.734-13.202,12.258-1.02-.204-1.995-.61-2.913-1.135-3.848-2.202-14.04-9.876-13.721-29.291Z"
              />
              <path
                id="earLeft"
                className="dark-spots"
                d="M42.015,79.4c-.877-6.028-2.271-12.314-2.277-18.47,0-.723.051-1.443.125-2.162.536-5.24,1.065-10.818,2.177-16.008.182-.849.422-1.685.71-2.504,1.702-4.834,3.938-9.894,6.126-14.553,1.185-2.523,2.904-4.839,4.539-7.087,1.152-1.583,2.309-3.174,3.48-4.758-.039-.175-.08-.35-.11-.529-.208-1.239-.522-2.459-1.062-3.573-1.435-2.963-4.881-7.019-12.731-3.67-.079.086-14.3,4.96-28.758,21.608-.21.114-19.8,19.613-12.676,34.208.088.289,2.489,6.26,8.083,13.393,2.03,2.589,3.634,5.535,4.694,8.737,1.824,5.51,5.826,13.734,13.202,12.258,1.02-.204,1.995-.61,2.913-1.135,2.641-1.511,8.263-5.605,11.432-14.293.169-.464.204-.966.133-1.454,0-.002,0-.005-.001-.007Z"
              />
              <ellipse
                id="earSpot"
                className="dark-spots"
                cx="68.866"
                cy="20.261"
                rx="10.554"
                ry="6.015"
                transform="translate(29.13 80.045) rotate(-72.784)"
              />
            </g>

            {/* Face - for expressions */}
            <g id="face">
              {/* Eyes group - for blink/widen animations */}
              <g id="eyes">
                {/* Eye whites */}
                <g id="eyeWhites">
                  <path
                    id="eyeWhiteRight"
                    className="eye-white"
                    d="M139.014,43.73l-33.359,5.92c-.517.092-.925.492-1.019,1.009-.728,3.997-2.592,20.606,16.487,21.434-.122.193,21.104-.514,19.372-27.193-.049-.753-.738-1.302-1.481-1.17Z"
                  />
                  <path
                    id="eyeWhiteLeft"
                    className="eye-white"
                    d="M49.125,43.372l33.226,6.623c.515.103.914.511.997,1.03.643,4.012,2.157,20.657-16.935,21.081.118.195-21.088-.959-18.794-27.596.065-.752.765-1.286,1.505-1.138Z"
                  />
                </g>

                {/* Pupils - for eye movement */}
                <g id="pupils">
                  <path
                    id="pupilLeft"
                    className="dark-spots"
                    d="M76.02,48.733l-15.524-3.058c-2.175,2.146-3.429,5.326-3.147,8.763.484,5.901,5.305,10.321,10.768,9.873s9.499-5.595,9.016-11.495c-.121-1.47-.511-2.849-1.113-4.083Z"
                  />
                  <path
                    id="pupilRight"
                    className="dark-spots"
                    d="M109.685,52.788c-.59,5.891,3.354,11.109,8.808,11.655s10.354-3.787,10.943-9.678c.344-3.432-.853-6.634-2.989-8.818l-15.576,2.779c-.624,1.223-1.039,2.594-1.186,4.062Z"
                  />
                </g>

                {/* Eyelids - for blink animation */}
                <g id="eyelids" style={{ opacity: 0 }}>
                  <ellipse
                    id="eyelidLeft"
                    className="body-main"
                    cx="68"
                    cy="55"
                    rx="20"
                    ry="3"
                  />
                  <ellipse
                    id="eyelidRight"
                    className="body-main"
                    cx="118"
                    cy="55"
                    rx="20"
                    ry="3"
                  />
                </g>
              </g>

              {/* Happy eyes (arc shape) - shown when excited */}
              <g id="happyEyes" style={{ opacity: 0 }}>
                <path
                  id="happyEyeLeft"
                  className="dark-spots"
                  d="M76.18,60.236c-1.229,0-2.225-.996-2.225-2.225,0-4.956-4.032-8.987-8.987-8.987s-8.987,4.032-8.987,8.987c0,1.229-.996,2.225-2.225,2.225s-2.225-.996-2.225-2.225c0-7.41,6.028-13.438,13.438-13.438s13.438,6.028,13.438,13.438c0,1.229-.996,2.225-2.225,2.225Z"
                />
                <path
                  id="happyEyeRight"
                  className="eye-cream"
                  d="M130.621,60.236c-1.229,0-2.225-.996-2.225-2.225,0-4.956-4.032-8.987-8.987-8.987s-8.987,4.032-8.987,8.987c0,1.229-.996,2.225-2.225,2.225s-2.225-.996-2.225-2.225c0-7.41,6.028-13.438,13.438-13.438s13.438,6.028,13.438,13.438c0,1.229-.996,2.225-2.225,2.225Z"
                />
              </g>

              {/* Mouth group - for open/close animations */}
              <g id="mouth">
                {/* Closed mouth (nose/snout) */}
                <path
                  id="mouthClosed"
                  className="dark-spots"
                  d="M111.833,94.174c-.811-.949-2.237-1.061-3.186-.251-4.338,3.706-9.048,5.86-14.078,6.457v-10.681c0-.889.492-1.706,1.279-2.121l8.943-4.721c.856-.452,1.392-1.341,1.392-2.309,0-1.442-1.169-2.611-2.611-2.611h-24.784c-1.442,0-2.611,1.169-2.611,2.611,0,.968.536,1.857,1.392,2.309l8.943,4.721c.787.415,1.279,1.232,1.279,2.121v10.569c-1.154-.168-2.322-.408-3.504-.724-6.861-1.835-11.666-5.601-11.75-5.668-.974-.778-2.395-.621-3.175.353-.78.974-.623,2.396.351,3.177.22.176,5.486,4.346,13.238,6.459,2.507.684,5.442,1.188,8.643,1.188,6.078,0,13.112-1.82,19.988-7.693.949-.811,1.061-2.237.251-3.186Z"
                />

                {/* Open mouth with tongue - shown when excited */}
                <g id="mouthOpen" style={{ opacity: showTongue ? 1 : 0 }}>
                  <path
                    id="mouthOpenShape"
                    className="dark-spots"
                    d="M111.047,84.017c-.615-.905-1.854-1.09-2.704-.428l-3.569,2.78c-1.343.452-5.657,1.653-9.054-.235-1.315-.731-2.11-2.138-2.11-3.643v-.003l.005-.004c.211-.158.448-.275.702-.348,1.457-.416,6.797-2.178,8.657-6.08.556-1.166.501-2.538-.203-3.621-.806-1.24-2.456-2.703-5.833-2.92-.659-.042-9.068-.041-9.677-.011-3.519.176-5.212,1.682-6.029,2.948-.697,1.08-.748,2.435-.196,3.596,1.855,3.903,7.194,5.668,8.657,6.086.254.073.494.19.705.349l.005.004h0c0,1.518-.812,2.932-2.143,3.662-4.074,2.236-9.445.065-9.445.065l-3.312-2.58c-.809-.631-2.001-.557-2.656.233-.677.818-.541,2.027.291,2.675l4.073,3.173c.565,15.413,14.795,19.19,14.795,19.19,0,0,14.345-3.806,14.803-19.373l3.788-2.951c.787-.613,1.012-1.742.451-2.567Z"
                  />
                  {/* Tongue */}
                  <path
                    id="tongue"
                    className="tongue"
                    d="M103.422,104.876l-2.291-13.703h-8.066l.587,15.012c.03.761-.579,1.394-1.341,1.394h-.805c-.762,0-1.371-.633-1.341-1.394l.587-15.012h-8.066l-2.291,13.703s-1.309,14.023,11.49,13.977c.009.008.017-.077.023-.235.006.159.014.244.023.235,12.799.046,11.49-13.977,11.49-13.977Z"
                  />
                </g>
              </g>
            </g>
          </g>

          {/* Feet/Paws */}
          <g id="feet">
            {/* Left paw group */}
            <g id="pawLeft">
              <ellipse className="dark-spots" cx="60.2" cy="211.491" rx="6.502" ry="8.45" transform="translate(-84.032 45.51) rotate(-25.101)" />
              <ellipse className="dark-spots" cx="30.66" cy="182.258" rx="5.699" ry="8.351" />
              <path className="dark-spots" d="M21.806,228.653c-1.654,1.986-4.488,6.743-2.133,14.659.002.001-.003-.002,0,0,.518.315.962.525,1.157.599,1.15.438,1.439.487,1.439.487,0,0-.174-.971-.215-1.221-.426-2.624-1.124-8.893,1.47-12.943.256-.4.256-.941.024-1.36-.005-.01-.011-.019-.016-.029-.383-.69-1.232-.786-1.725-.193Z" />
              <path className="dark-spots" d="M33.07,230.197c-1.614,2.316-4.803,8.144-2.119,15.015.096-.002,2.95-.053,2.95-.053,0,0-2.72-6.761,1.316-13.601.308-.522.179-1.193-.286-1.58-.009-.008-.019-.016-.028-.024-.566-.471-1.411-.362-1.832.242Z" />
              <path className="dark-spots" d="M52.069,236.639c-1.263,2.809-2.958,8.179-.745,14.604.138.04,1.834.58,3.09.678.003,0-2.251-7.214.152-13.744.237-.644.115-1.404-.29-1.902-.01-.012-.019-.024-.029-.035-.653-.801-1.73-.596-2.178.399Z" />
              <path className="dark-spots" d="M64.543,237.214c-1.292,2.809-2.955,8.762-.69,15.186.142.04,1.856.029,3.073-.046.003,0-2.287-7.072.172-13.602.243-.644.118-1.404-.297-1.902-.01-.012-.02-.024-.03-.035-.668-.801-1.771-.596-2.229.399Z" />
            </g>

            {/* Right paw group */}
            <g id="pawRight">
              <path className="dark-spots" d="M166.736,228.798c1.654,1.986,4.48,6.947,2.126,14.863-.002.001-.946.367-1.14.441-1.15.438-1.448.441-1.448.441,0,0,.174-.971.215-1.221.426-2.624,1.124-8.893-1.47-12.943-.256-.4-.256-.941-.024-1.36.005-.01.011-.019.016-.029.383-.69,1.232-.786,1.725-.193Z" />
              <path className="dark-spots" d="M155.5,230.185c1.614,2.316,4.784,8.186,2.1,15.057-.096-.002-2.925-.108-2.925-.108,0,0,2.714-6.747-1.321-13.587-.308-.522-.179-1.193.286-1.58.009-.008.019-.016.028-.024.566-.471,1.411-.362,1.832.242Z" />
              <path className="dark-spots" d="M136.594,236.479c1.263,2.809,2.943,8.204.73,14.628-.138.04-1.818.556-3.074.654-.003,0,2.251-7.214-.152-13.744-.237-.644-.115-1.404.29-1.902.01-.012.019-.024.029-.035.653-.801,1.73-.596,2.178.399Z" />
              <path className="dark-spots" d="M124.028,237.202c1.292,2.809,2.942,8.846.678,15.27-.142.04-1.814-.08-3.055-.209-.009.042,2.282-6.994-.178-13.524-.243-.644-.118-1.404.297-1.902.01-.012.02-.024.03-.035.668-.801,1.771-.596,2.229.399Z" />
            </g>
          </g>
        </g>

        {/* Floor shadow - for bounce effect */}
        <ellipse
          id="floor"
          cx="94"
          cy="255"
          rx="60"
          ry="8"
          fill="#00000015"
        />
      </svg>
    );
  }
);

MascotSVG.displayName = "MascotSVG";

export default MascotSVG;
